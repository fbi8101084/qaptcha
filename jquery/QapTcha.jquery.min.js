jQuery.QapTcha={build:function(t){var e={txtLock:"Locked : form can't be submited",txtUnlock:"Unlocked : form can be submited",disabledSubmit:!0,autoRevert:!0,PHPfile:"php/Qaptcha.jquery.php",autoSubmit:!1,chars:"azertyupqsdfghjkmwxcvbn23456789AZERTYUPQSDFGHJKMWXCVBN_-#@"};return this.length>0?jQuery(this).each(function(r){function a(t){var e=i.chars,a="";for(r=0;t>r;r++){var n=Math.round(Math.random()*e.length);a+=e.substring(n,n+1)}return a}var i=$.extend(e,t),n=$(this),s=$("form").has(n),d=jQuery("<div>",{"class":"clr"}),o=jQuery("<div>",{"class":"bgSlider"}),u=jQuery("<div>",{"class":"Slider"}),c=jQuery("<div>",{"class":" TxtStatus dropError",text:i.txtLock}),p=jQuery("<input>",{name:a(32),value:a(7),type:"hidden"});i.disabledSubmit&&s.find("[type='submit']").prop("disabled",!0),o.appendTo(n),d.insertAfter(o),c.insertAfter(d),p.appendTo(n),u.appendTo(o),n.show(),u.draggable({revert:function(){return i.autoRevert?parseInt(u.css("left"))>o.width()-u.width()-10?!1:!0:void 0},containment:o,axis:"x",stop:function(t,e){e.position.left>o.width()-u.width()-10&&$.post(i.PHPfile,{action:$("#token").attr("content"),qaptcha_key:p.attr("name")},function(t){t.error||(u.draggable("disable").css("cursor","default"),p.val(""),c.text(i.txtUnlock).addClass("dropSuccess").removeClass("dropError"),s.find("[type='submit']").prop("disabled",!1),i.autoSubmit&&s.find("[type='submit']").trigger("click"))},"json")}})}):void 0}},jQuery.fn.QapTcha=jQuery.QapTcha.build;